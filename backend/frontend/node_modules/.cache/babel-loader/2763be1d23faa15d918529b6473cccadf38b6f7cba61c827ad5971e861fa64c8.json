{"ast":null,"code":"import React,{useState,useEffect,useProps}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Form,Button,Row,Col,Table}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import{useDispatch,useSelector}from'react-redux';import FormContainer from'../components/FormContainer';import{LinkContainer}from'react-router-bootstrap';import{listOrders,deliverOrder}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrderListScreen(){var dispatch=useDispatch();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var navigate=useNavigate();useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{navigate(\"/login\");}},[dispatch,navigate,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl text-center mb-5\",children:\"Lista zam\\xF3wie\\u0144\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{varint:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-center \",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Numer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kupuj\\u0105cy\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kwota\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status p\\u0142atno\\u015Bci\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Czy dostarczone\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-center\",children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.createAt.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[order.totalPrice,\" z\\u0142\"]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500\",children:\"Op\\u0142acone\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:\"Nie op\\u0142acone\"})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500\",children:\"Dostarczone\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:\"Nie dostaczone\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{varinat:\"light\",className:\"btn-sm\",children:\"Szczeg\\xF3\\u0142y\"})})})]},order._id);})})]})]});}export default OrderListScreen;","map":{"version":3,"names":["React","useState","useEffect","useProps","useNavigate","useLocation","Form","Button","Row","Col","Table","Loader","Message","useDispatch","useSelector","FormContainer","LinkContainer","listOrders","deliverOrder","jsx","_jsx","jsxs","_jsxs","OrderListScreen","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","navigate","isAdmin","children","className","varint","striped","bordered","hover","responsive","map","order","_id","user","name","createAt","substring","totalPrice","isPaid","isDelivered","to","concat","varinat"],"sources":["C:/Users/Krystian/Documents/GitHub/ecommerce/backend/frontend/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useState, useEffect, useProps} from 'react'\r\nimport { useNavigate, useLocation} from 'react-router-dom'\r\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap'\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport FormContainer from '../components/FormContainer';\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport {listOrders, deliverOrder} from '../actions/orderActions' \r\n\r\n\r\n\r\nfunction OrderListScreen() {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const orderList = useSelector(state => state.orderList)\r\n    const {loading, error, orders} = orderList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const {userInfo} = userLogin\r\n\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if(userInfo && userInfo.isAdmin){\r\n            dispatch(listOrders())\r\n        }else{\r\n            navigate(`/login`)\r\n        }\r\n        \r\n    }, [dispatch, navigate, userInfo])\r\n\r\n\r\n  return (\r\n    <div>\r\n        <h1 className=\"text-4xl text-center mb-5\">Lista zamówień</h1>\r\n        {loading\r\n        ? <Loader />\r\n        : error\r\n            ?<Message varint='danger'>{error}</Message>\r\n            :(\r\n                <Table striped bordered hover responsive className=\"table-sm\">\r\n                    <thead className=\"text-center \">\r\n                        <tr>\r\n                            <th>Numer</th>\r\n                            <th>Kupujący</th>\r\n                            <th>Data</th>\r\n                            <th>Kwota</th>\r\n                            <th>Status płatności</th>\r\n                            <th>Czy dostarczone</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"text-center\">\r\n                        {orders.map(order => (\r\n                            <tr key={order._id}>\r\n                                <td>{order._id}</td>\r\n                                <td>{order.user && order.user.name}</td>\r\n                                <td>{order.createAt.substring(0, 10)}</td>\r\n                                <td>{order.totalPrice} zł</td>\r\n                                <td>{order.isPaid ? (\r\n                                    <p className=\"text-green-500\">Opłacone</p>\r\n                                ): <p className=\"text-red-500\">Nie opłacone</p>}</td>\r\n                                <td>{order.isDelivered ? (\r\n                                    <p className=\"text-green-500\">Dostarczone</p>\r\n                                ): <p className=\"text-red-500\">Nie dostaczone</p>}</td>\r\n                                \r\n                                \r\n                                <td>\r\n                                    <LinkContainer to={`/order/${order._id}`}>\r\n                                        <Button varinat='light' className=\"btn-sm\">Szczegóły</Button>\r\n                                    </LinkContainer>\r\n                                </td>\r\n\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </Table>\r\n            )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}