{"ast":null,"code":"import React,{useState,useEffect,useProps}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Form,Button,Row,Col,Table}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import{useDispatch,useSelector}from'react-redux';import FormContainer from'../components/FormContainer';import{listUsers,deleteUser}from'../actions/userActions';import{LinkContainer}from'react-router-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserListScreen(){var dispatch=useDispatch();var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var successDelete=userDelete.success;var navigate=useNavigate();useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate(\"/login\");}},[dispatch,navigate,successDelete]);var deleteHandler=function deleteHandler(id,email){if(window.confirm(\"Czy na pewno chcesz usun\\u0105\\u0107 u\\u017Cytkownika o adresie email: \".concat(email,\" ?\"))){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl text-center mb-5\",children:\"Zarejestrowani u\\u017Cytkownicy\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{varint:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-center \",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Imi\\u0119\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admin\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-center\",children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-circle-check text-lime-500\"}):/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-circle-minus text-red-500\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{varinat:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-regular fa-pen-to-square text-lime-500\"})})}),/*#__PURE__*/_jsx(Button,{varinat:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user._id,user.email);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-trash-can text-red-500\"})})]})]},user._id);})})]})]});}export default UserListScreen;","map":{"version":3,"names":["React","useState","useEffect","useProps","useNavigate","useLocation","Form","Button","Row","Col","Table","Loader","Message","useDispatch","useSelector","FormContainer","listUsers","deleteUser","LinkContainer","jsx","_jsx","jsxs","_jsxs","UserListScreen","dispatch","userList","state","loading","error","users","userLogin","userInfo","userDelete","successDelete","success","navigate","isAdmin","deleteHandler","id","email","window","confirm","concat","children","className","varint","striped","bordered","hover","responsive","map","user","_id","name","class","to","varinat","onClick"],"sources":["C:/Users/Krystian/Documents/GitHub/ecommerce/backend/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, {useState, useEffect, useProps} from 'react'\r\nimport { useNavigate, useLocation} from 'react-router-dom'\r\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap'\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport FormContainer from '../components/FormContainer';\r\nimport {listUsers, deleteUser} from '../actions/userActions'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\n\r\n\r\n\r\nfunction UserListScreen() {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userList = useSelector(state => state.userList)\r\n    const {loading, error, users} = userList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const {userInfo} = userLogin\r\n\r\n    const userDelete = useSelector(state => state.userDelete)\r\n    const {success: successDelete} = userDelete\r\n\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        if(userInfo && userInfo.isAdmin){\r\n            dispatch(listUsers())\r\n        }else{\r\n            navigate(`/login`)\r\n        }\r\n        \r\n    }, [dispatch, navigate, successDelete])\r\n\r\n    const deleteHandler = (id, email) => {\r\n        if(window.confirm(`Czy na pewno chcesz usunąć użytkownika o adresie email: ${email} ?`)){\r\n            dispatch(deleteUser(id))\r\n        }\r\n\r\n\r\n        \r\n    } \r\n\r\n  return (\r\n    <div>\r\n        <h1 className=\"text-4xl text-center mb-5\">Zarejestrowani użytkownicy</h1>\r\n        {loading\r\n        ? <Loader />\r\n        : error\r\n            ?<Message varint='danger'>{error}</Message>\r\n            :(\r\n                <Table striped bordered hover responsive className=\"table-sm\">\r\n                    <thead className=\"text-center \">\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Imię</th>\r\n                            <th>Email</th>\r\n                            <th>Admin</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"text-center\">\r\n                        {users.map(user => (\r\n                            <tr key={user._id}>\r\n                                <td>{user._id}</td>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.isAdmin ? (\r\n                                    <i class=\"fa-solid fa-circle-check text-lime-500\"></i>\r\n                                ): <i class=\"fa-solid fa-circle-minus text-red-500\"></i>}</td>\r\n                                <td>\r\n                                    <LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n                                        <Button varinat='light' className=\"btn-sm\"><i class=\"fa-regular fa-pen-to-square text-lime-500\"></i></Button>\r\n                                    </LinkContainer>\r\n\r\n                                    <Button varinat='danger' className=\"btn-sm\" onClick={() => deleteHandler(user._id, user.email)}><i class=\"fa-solid fa-trash-can text-red-500\"></i></Button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </Table>\r\n            )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}